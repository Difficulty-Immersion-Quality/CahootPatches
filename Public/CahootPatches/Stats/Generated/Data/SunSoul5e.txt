// ================================ Slight rework and buffs for Sumradagnoth's Way of the Sun Soul ================================

// ================================ Radiant Sun Bolt ================================
// Costs 1 ki point now, but is an unarmed attack (previously ranged spell attack) using Wisdom modifier for attack and damage rolls (instead of Dexterity modifier like for regular unarmed attacks). Range is decreased to 6m (previously 9m)
// Adds Radiant damage equal to Martial Arts die (OneDnD) to your next attack (consumed on attack, whether hit or miss)

new entry "Projectile_RadiantSunBolt"
type "SpellData"
data "SpellType" "Projectile"
using "Projectile_RadiantSunBolt"
// data "TargetRadius" "9"
data "TargetRadius" "6"
data "SpellProperties" "ApplyStatus(SELF,CHT_RADIANT_SUN_BOLT,100,2)"
// data "SpellSuccess" "DealDamage(LevelMapValue(MartialArts)+DexterityModifier,Radiant,Magical)"
// data "SpellRoll" "Attack(AttackType.RangedSpellAttack) or HasStatus('WeaponAttack')"
data "SpellRoll" "Attack(AttackType.MeleeUnarmedAttack)"
data "SpellSuccess" "DealDamage(UnarmedDamage-DexterityModifier+WisdomModifier,Radiant,Magical)"
// Hurl a searing bolt of magical radiance. After making this attack, your next attack will also deal an additional [1].
data "Description" "h5b953896gee9cg4bb8gb06cg72ebc7adb6ab;1"
data "DescriptionParams" "DealDamage(LevelMapValue(CL_LM_OneDnD_MartialArts),Radiant)"
// This attack's &lt;LSTag Tooltip="AttackRoll"&gt;Attack Roll&lt;/LSTag&gt; and damage roll use your Wisdom &lt;LSTag Tooltip="AbilityModifier"&gt;Modifier&lt;/LSTag&gt; instead of your Dexterity Modifier. When you use this attack as part of your Attack action on your turn, you may spend 1 &lt;LSTag Type="ActionResource" Tooltip="KiPoint"&gt;ki point&lt;/LSTag&gt; to attack twice more with it as a &lt;LSTag Tooltip="BonusAction"&gt;bonus action&lt;/LSTag&gt;.
data "ExtraDescription" "h4c650077gb444g4974g8a95g4b48cdc10abe;1"
// data "TooltipDamageList" "DealDamage(LevelMapValue(MartialArts)+DexterityModifier,Radiant)"
data "TooltipDamageList" "DealDamage(LevelMapValue(CL_LM_OneDnD_MartialArts)+WisdomModifier,Radiant)"
data "TooltipStatusApply" "ApplyStatus(CHT_RADIANT_SUN_BOLT,100,2)"
// data "UseCosts" "ActionPoint:1"
data "UseCosts" "ActionPoint:1;KiPoint:1"

// Bonus action flurry now costs 2 ki points (previously 1 ki point)
new entry "Projectile_RadiantSunBolt_Flurry"
type "SpellData"
data "SpellType" "Projectile"
using "Projectile_RadiantSunBolt_Flurry"
data "RequirementConditions" "CanSunBoltFlurry()"
// data "SpellRoll" "Attack(AttackType.RangedSpellAttack)"
data "SpellRoll" "Attack(AttackType.MeleeUnarmedAttack)"
// data "UseCosts" "BonusActionPoint:1;KiPoint:1"
data "UseCosts" "BonusActionPoint:1;KiPoint:2"

// New status for the added Radiant damage on next attack
new entry "CHT_RADIANT_SUN_BOLT"
type "StatusData"
data "StatusType" "BOOST"
// Radiant Soul
data "DisplayName" "h1d5be7f4gd982g495cg814fg2a1f88143030;1"
// Affected entity is infused with radiant energy. Its next attack deals an additional [1].
data "Description" "h2d545523ged44g4e72g9d4cg35721ab6fa94;1"
data "DescriptionParams" "DealDamage(LevelMapValue(CL_LM_OneDnD_MartialArts),Radiant)"
data "Icon" "Spell_RadiantSunBolt"
data "StackId" "CHT_RADIANT_SUN_BOLT"
data "TickType" "EndTurn"
data "Boosts" "DamageBonus(LevelMapValue(CL_LM_OneDnD_MartialArts),Radiant)"
data "Passives" "CHT_RadiantSunBoltPassive"
data "StatusEffect" "747ac7e5-c52e-4e5a-be78-1f9de85b55ea"

new entry "CHT_RadiantSunBoltPassive"
type "PassiveData"
data "StatsFunctorContext" "OnAttack"
data "StatsFunctors" "RemoveStatus(SELF,CHT_RADIANT_SUN_BOLT)"
data "Properties" "IsHidden"

// Passive originally used to remove Wisdom modifier from Radiant Sun Bolt's attack roll and instead add Dexterity modifier, so reversing the effect so the attack roll (which is now an unarmed attack) uses Wisdom modifier
new entry "RadiantSunBolt"
type "PassiveData"
using "RadiantSunBolt"
// data "Boosts" "IF(AttackRollAbility(Ability.Wisdom) and IsSunBolt()):RollBonus(Attack,DexterityModifier-WisdomModifier)"
data "Boosts" "IF(AttackRollAbility(Ability.Dexterity) and IsSunBolt()):RollBonus(Attack,WisdomModifier-DexterityModifier)"

// ================================ Searing Arc Strike ================================
// Increase damage to d8 (previously d6) and is no longer a spell

new entry "Zone_SearingArcStrike_Container"
type "SpellData"
data "SpellType" "Zone"
using "Zone_SearingArcStrike_Container"
// data "TooltipDamageList" "DealDamage(3d6,Fire)"
data "TooltipDamageList" "DealDamage(3d8,Fire)"
// data "SpellFlags" "HasSomaticComponent;HasVerbalComponent;IsSpell;IsHarmful;CanAreaDamageEvade;IsLinkedSpellContainer"
data "SpellFlags" "HasSomaticComponent;HasVerbalComponent;IsHarmful;CanAreaDamageEvade;IsLinkedSpellContainer"

new entry "Zone_SearingArcStrike"
type "SpellData"
data "SpellType" "Zone"
using "Zone_SearingArcStrike"
// data "SpellSuccess" "DealDamage(3d6,Fire,Magical)"
data "SpellSuccess" "DealDamage(3d8,Fire,Magical)"
// data "SpellFail" "DealDamage(3d6/2,Fire,Magical)"
data "SpellFail" "DealDamage(3d8/2,Fire,Magical)"
// data "DescriptionParams" "DealDamage(3d6,Fire)"
data "DescriptionParams" "DealDamage(3d8,Fire)"
// data "TooltipDamageList" "DealDamage(3d6,Fire)"
data "TooltipDamageList" "DealDamage(3d8,Fire)"
// data "SpellFlags" "HasSomaticComponent;HasVerbalComponent;IsSpell;IsHarmful;CanAreaDamageEvade"
data "SpellFlags" "HasSomaticComponent;HasVerbalComponent;IsHarmful;CanAreaDamageEvade"

new entry "Zone_SearingArcStrike_2"
type "SpellData"
data "SpellType" "Zone"
using "Zone_SearingArcStrike_2"
// data "SpellSuccess" "DealDamage(4d6,Fire,Magical)"
data "SpellSuccess" "DealDamage(4d8,Fire,Magical)"
// data "SpellFail" "DealDamage(4d6/2,Fire,Magical)"
data "SpellFail" "DealDamage(4d8/2,Fire,Magical)"
// data "DescriptionParams" "DealDamage(4d6,Fire)"
data "DescriptionParams" "DealDamage(4d8,Fire)"
// data "TooltipDamageList" "DealDamage(4d6,Fire)"
data "TooltipDamageList" "DealDamage(4d8,Fire)"
// data "SpellFlags" "HasSomaticComponent;HasVerbalComponent;IsSpell;IsHarmful;CanAreaDamageEvade"
data "SpellFlags" "HasSomaticComponent;HasVerbalComponent;IsHarmful;CanAreaDamageEvade"

new entry "Zone_SearingArcStrike_3"
type "SpellData"
data "SpellType" "Zone"
using "Zone_SearingArcStrike_3"
// data "SpellSuccess" "DealDamage(5d6,Fire,Magical)"
data "SpellSuccess" "DealDamage(5d8,Fire,Magical)"
// data "SpellFail" "DealDamage(5d6/2,Fire,Magical)"
data "SpellFail" "DealDamage(5d8/2,Fire,Magical)"
// data "DescriptionParams" "DealDamage(5d6,Fire)"
data "DescriptionParams" "DealDamage(5d8,Fire)"
// data "TooltipDamageList" "DealDamage(5d6,Fire)"
data "TooltipDamageList" "DealDamage(5d8,Fire)"
// data "SpellFlags" "HasSomaticComponent;HasVerbalComponent;IsSpell;IsHarmful;CanAreaDamageEvade"
data "SpellFlags" "HasSomaticComponent;HasVerbalComponent;IsHarmful;CanAreaDamageEvade"

new entry "Zone_SearingArcStrike_4"
type "SpellData"
data "SpellType" "Zone"
using "Zone_SearingArcStrike_4"
// data "SpellSuccess" "DealDamage(6d6,Fire,Magical)"
data "SpellSuccess" "DealDamage(6d8,Fire,Magical)"
// data "SpellFail" "DealDamage(6d6/2,Fire,Magical)"
data "SpellFail" "DealDamage(6d8/2,Fire,Magical)"
// data "DescriptionParams" "DealDamage(6d6,Fire)"
data "DescriptionParams" "DealDamage(6d8,Fire)"
// data "TooltipDamageList" "DealDamage(6d6,Fire)"
data "TooltipDamageList" "DealDamage(6d8,Fire)"
// data "SpellFlags" "HasSomaticComponent;HasVerbalComponent;IsSpell;IsHarmful;CanAreaDamageEvade"
data "SpellFlags" "HasSomaticComponent;HasVerbalComponent;IsHarmful;CanAreaDamageEvade"

new entry "Zone_SearingArcStrike_5"
type "SpellData"
data "SpellType" "Zone"
using "Zone_SearingArcStrike_5"
// data "SpellSuccess" "DealDamage(7d6,Fire,Magical)"
data "SpellSuccess" "DealDamage(7d8,Fire,Magical)"
// data "SpellFail" "DealDamage(7d6/2,Fire,Magical)"
data "SpellFail" "DealDamage(7d8/2,Fire,Magical)"
// data "DescriptionParams" "DealDamage(7d6,Fire)"
data "DescriptionParams" "DealDamage(7d8,Fire)"
// data "TooltipDamageList" "DealDamage(7d6,Fire)"
data "TooltipDamageList" "DealDamage(7d8,Fire)"
// data "SpellFlags" "HasSomaticComponent;HasVerbalComponent;IsSpell;IsHarmful;CanAreaDamageEvade"
data "SpellFlags" "HasSomaticComponent;HasVerbalComponent;IsHarmful;CanAreaDamageEvade"

new entry "Zone_SearingArcStrike_6"
type "SpellData"
data "SpellType" "Zone"
using "Zone_SearingArcStrike_6"
// data "SpellSuccess" "DealDamage(8d6,Fire,Magical)"
data "SpellSuccess" "DealDamage(8d8,Fire,Magical)"
// data "SpellFail" "DealDamage(8d6/2,Fire,Magical)"
data "SpellFail" "DealDamage(8d8/2,Fire,Magical)"
// data "DescriptionParams" "DealDamage(8d6,Fire)"
data "DescriptionParams" "DealDamage(8d8,Fire)"
// data "TooltipDamageList" "DealDamage(8d6,Fire)"
data "TooltipDamageList" "DealDamage(8d8,Fire)"
// data "SpellFlags" "HasSomaticComponent;HasVerbalComponent;IsSpell;IsHarmful;CanAreaDamageEvade"
data "SpellFlags" "HasSomaticComponent;HasVerbalComponent;IsHarmful;CanAreaDamageEvade"

new entry "Zone_SearingArcStrike_7"
type "SpellData"
data "SpellType" "Zone"
using "Zone_SearingArcStrike_7"
// data "SpellSuccess" "DealDamage(9d6,Fire,Magical)"
data "SpellSuccess" "DealDamage(9d8,Fire,Magical)"
// data "SpellFail" "DealDamage(9d6/2,Fire,Magical)"
data "SpellFail" "DealDamage(9d8/2,Fire,Magical)"
// data "DescriptionParams" "DealDamage(9d6,Fire)"
data "DescriptionParams" "DealDamage(9d8,Fire)"
// data "TooltipDamageList" "DealDamage(9d6,Fire)"
data "TooltipDamageList" "DealDamage(9d8,Fire)"
// data "SpellFlags" "HasSomaticComponent;HasVerbalComponent;IsSpell;IsHarmful;CanAreaDamageEvade"
data "SpellFlags" "HasSomaticComponent;HasVerbalComponent;IsHarmful;CanAreaDamageEvade"


new entry "Zone_SearingArcStrike_8"
type "SpellData"
data "SpellType" "Zone"
using "Zone_SearingArcStrike_8"
// data "SpellSuccess" "DealDamage(10d6,Fire,Magical)"
data "SpellSuccess" "DealDamage(10d8,Fire,Magical)"
// data "SpellFail" "DealDamage(10d6/2,Fire,Magical)"
data "SpellFail" "DealDamage(10d8/2,Fire,Magical)"
// data "DescriptionParams" "DealDamage(10d6,Fire)"
data "DescriptionParams" "DealDamage(10d8,Fire)"
// data "TooltipDamageList" "DealDamage(10d6,Fire)"
data "TooltipDamageList" "DealDamage(10d8,Fire)"
// data "SpellFlags" "HasSomaticComponent;HasVerbalComponent;IsSpell;IsHarmful;CanAreaDamageEvade"
data "SpellFlags" "HasSomaticComponent;HasVerbalComponent;IsHarmful;CanAreaDamageEvade"

new entry "Zone_SearingArcStrike_9"
type "SpellData"
data "SpellType" "Zone"
using "Zone_SearingArcStrike_9"
// data "SpellSuccess" "DealDamage(11d6,Fire,Magical)"
data "SpellSuccess" "DealDamage(11d8,Fire,Magical)"
// data "SpellFail" "DealDamage(11d6/2,Fire,Magical)"
data "SpellFail" "DealDamage(11d8/2,Fire,Magical)"
// data "DescriptionParams" "DealDamage(11d6,Fire)"
data "DescriptionParams" "DealDamage(11d8,Fire)"
// data "TooltipDamageList" "DealDamage(11d6,Fire)"
data "TooltipDamageList" "DealDamage(11d8,Fire)"
// data "SpellFlags" "HasSomaticComponent;HasVerbalComponent;IsSpell;IsHarmful;CanAreaDamageEvade"
data "SpellFlags" "HasSomaticComponent;HasVerbalComponent;IsHarmful;CanAreaDamageEvade"
 
// ================================ Searing Sunburst ================================
// Decrease range to 9m (previously 45m) and explosion radius to 5m (previously 6m). Targets take half damage on save (previously no damage) and are blinded for 1 turn if they fail the save

new entry "Projectile_SearingSunburst_Container"
type "SpellData"
data "SpellType" "Projectile"
using "Projectile_SearingSunburst_Container"
// data "TargetRadius" "45"
data "TargetRadius" "9"
// data "AreaRadius" "6"
data "AreaRadius" "5"
// data "ExplodeRadius" "6"
data "ExplodeRadius" "5"
// Hurl an orb of light that erupts into a devastating explosion that increases in damage based on the amount of &lt;LSTag Type="ActionResource" Tooltip="KiPoint"&gt;ki points&lt;/LSTag&gt; you spend and &lt;LSTag Type="Status" Tooltip="SEARING_SUNBURST"&gt;Blinds&lt;/LSTag&gt; targets who fail a Constitution &lt;LSTag Tooltip="SavingThrow"&gt;Saving Throw&lt;/LSTag&gt;.
data "Description" "hdf7310f7g4ed0g4997g819ag141c09490901;1"
data "TooltipStatusApply" "ApplyStatus(CHT_SEARING_SUNBURST,100,1)"
data "TooltipOnSave" "f762efbb-f8f1-493e-b248-2de1567b4bd2"

new entry "Projectile_SearingSunburst"
type "SpellData"
data "SpellType" "Projectile"
using "Projectile_SearingSunburst"
// data "SpellSuccess" "DealDamage(2d6,Radiant,Magical)"
data "SpellSuccess" "DealDamage(2d6,Radiant,Magical);ApplyStatus(CHT_SEARING_SUNBURST,100,1)"
// data "SpellFail" ""
data "SpellFail" "DealDamage(2d6/2,Radiant,Magical)"
// Hurl an orb of light that erupts into a devastating explosion, dealing [1] to all targets and &lt;LSTag Type="Status" Tooltip="CHT_SEARING_SUNBURST"&gt;Blinds&lt;/LSTag&gt; targets who fail a Constitution &lt;LSTag Tooltip="SavingThrow"&gt;Saving Throw&lt;/LSTag&gt;.
data "Description" "h685952f7gc47ag4487g9140gcae9dacb58aa;1"

new entry "Projectile_SearingSunburst_2"
type "SpellData"
data "SpellType" "Projectile"
using "Projectile_SearingSunburst_2"
// data "SpellSuccess" "DealDamage(4d6,Radiant,Magical)""
data "SpellSuccess" "DealDamage(4d6,Radiant,Magical);ApplyStatus(CHT_SEARING_SUNBURST,100,1)"
// data "SpellFail" ""
data "SpellFail" "DealDamage(4d6/2,Radiant,Magical)"
// Hurl an orb of light that erupts into a devastating explosion, dealing [1] to all targets and &lt;LSTag Type="Status" Tooltip="CHT_SEARING_SUNBURST"&gt;Blinds&lt;/LSTag&gt; targets who fail a Constitution &lt;LSTag Tooltip="SavingThrow"&gt;Saving Throw&lt;/LSTag&gt;.
data "Description" "h685952f7gc47ag4487g9140gcae9dacb58aa;1"

new entry "Projectile_SearingSunburst_3"
type "SpellData"
data "SpellType" "Projectile"
using "Projectile_SearingSunburst_3"
// data "SpellSuccess" "DealDamage(6d6,Radiant,Magical)"
data "SpellSuccess" "DealDamage(6d6,Radiant,Magical);ApplyStatus(CHT_SEARING_SUNBURST,100,1)"
// Hurl an orb of light that erupts into a devastating explosion, dealing [1] to all targets and &lt;LSTag Type="Status" Tooltip="CHT_SEARING_SUNBURST"&gt;Blinds&lt;/LSTag&gt; targets who fail a Constitution &lt;LSTag Tooltip="SavingThrow"&gt;Saving Throw&lt;/LSTag&gt;.
data "Description" "h685952f7gc47ag4487g9140gcae9dacb58aa;1"

new entry "Projectile_SearingSunburst_4"
type "SpellData"
data "SpellType" "Projectile"
using "Projectile_SearingSunburst_4"
// data "SpellSuccess" "DealDamage(8d6,Radiant,Magical)"
data "SpellSuccess" "DealDamage(8d6,Radiant,Magical);ApplyStatus(CHT_SEARING_SUNBURST,100,1)"
// data "SpellFail" ""
data "SpellFail" "DealDamage(8d6/2,Radiant,Magical)"
// Hurl an orb of light that erupts into a devastating explosion, dealing [1] to all targets and &lt;LSTag Type="Status" Tooltip="CHT_SEARING_SUNBURST"&gt;Blinds&lt;/LSTag&gt; targets who fail a Constitution &lt;LSTag Tooltip="SavingThrow"&gt;Saving Throw&lt;/LSTag&gt;.
data "Description" "h685952f7gc47ag4487g9140gcae9dacb58aa;1"

// New status for the blind
new entry "CHT_SEARING_SUNBURST"
type "StatusData"
data "StatusType" "BOOST"
using "BLINDED"
data "Icon" "Spell_SearingSunburst"
data "StatusPropertyFlags" "InitiateCombat;TickingWithSource"

// ================================ Sun Shield ================================
// Increase reflect damage to 8 + Wisdom modifier (previously 5 + Wisdom modifier) and now also increases your AC by 2

new entry "Shout_SunShield"
type "SpellData"
data "SpellType" "Shout"
using "Shout_SunShield"
// Become wreathed in, or extinguish, a magical aura that shines light to a radius of [1], grants you a +[2] bonus to your &lt;LSTag Tooltip="ArmourClass"&gt;Armour Class&lt;/LSTag&gt;, and can damage creatures that make melee attacks against you.
data "Description" "h20a4a86bg182cg42ddgb2abg4254aa0762dc;1"
// data "DescriptionParams" "Distance(9)"
data "DescriptionParams" "Distance(9);2"

new entry "SUN_SHIELD"
type "StatusData"
data "StatusType" "BOOST"
using "SUN_SHIELD"
// Entity emits an aura of light with a radius of [1] and has a +[2] bonus to its &lt;LSTag Tooltip="ArmourClass"&gt;Armour Class&lt;/LSTag&gt;.
data "Description" "h34f1a40dgcc82g461dgbac9g71bb965115cf;1"
// data "DescriptionParams" "Distance(9)"
data "DescriptionParams" "Distance(9);2"
// data "Boosts" "GameplayLight(9,false,0.1);UnlockInterrupt(Interrupt_SunShield)"
data "Boosts" "GameplayLight(9,false,0.1);UnlockInterrupt(Interrupt_SunShield);AC(2)"

new entry "Interrupt_SunShield"
type "InterruptData"
using "Interrupt_SunShield"
// data "DescriptionParams" "DealDamage(5+WisdomModifier,Radiant)"
data "DescriptionParams" "DealDamage(8+WisdomModifier,Radiant)"

new entry "Target_SunShield"
type "SpellData"
data "SpellType" "Target"
using "Target_SunShield"
// data "SpellProperties" "DealDamage(5+WisdomModifier,Radiant,Magical)"
data "SpellProperties" "DealDamage(5+WisdomModifier,Radiant,Magical)"
data "Description" "hcc0a2ba4ge907g4b63gb148g752d331e4cc0;1"
// data "DescriptionParams" "DealDamage(5+WisdomModifier,Radiant)"
data "DescriptionParams" "DealDamage(8+WisdomModifier,Radiant)"
// data "TooltipDamageList" "DealDamage(5+WisdomModifier,Radiant)"
data "TooltipDamageList" "DealDamage(8+WisdomModifier,Radiant)"
